import{_ as D,j as C,r as F,k as M,c as o,a as t,b as r,p as f,q as P,f as p,z as y,m as g,n as x,o as a,y as S,t as c,x as v,g as h,d,F as n}from"./index-Bofk4aXo.js";import{a as N,t as E,d as V}from"./promotionsService-D2pL0L8L.js";const $={class:"promotions-container"},B={class:"add-promotion-section"},I={class:"filters-section"},q={class:"filters-content"},O={class:"filters-grid"},U={class:"filter-item"},z={class:"filter-item"},L={class:"filter-item"},T={class:"promotions-table-section"},Y={class:"table-container"},j={key:0,class:"empty-state"},H={key:1,class:"table-wrapper"},Q={class:"promotions-table"},G={class:"table-cell"},J={class:"promotion-title"},K={class:"table-cell"},R={class:"promotion-description-text"},W={class:"table-cell"},X={class:"table-cell"},Z={key:0,class:"featured-badge"},tt={key:1,class:"empty-indicator"},st={class:"table-cell"},et={key:0,class:"modal-badge"},at={key:1,class:"empty-indicator"},ot={class:"table-cell"},lt={class:"date-text"},it={class:"table-cell"},ct={class:"action-buttons"},dt=["onClick","title"],nt=["onClick"],rt={class:"promotions-cards-section"},ut={key:0,class:"empty-state"},_t={key:1,class:"cards-grid"},vt={class:"card-header"},ht={class:"card-title"},bt={class:"card-status"},ft={class:"card-description"},pt={class:"description-text"},yt={class:"card-meta"},kt={class:"meta-item"},mt={key:0,class:"featured-badge"},wt={key:1,class:"meta-value"},gt={class:"meta-item"},xt={key:0,class:"modal-badge"},At={key:1,class:"meta-value"},Dt={class:"meta-item"},Ct={class:"meta-value"},Ft={class:"card-actions"},Mt=["onClick","title"],Pt={class:"btn-text"},St=["onClick"],Nt={__name:"Promotions",setup(Et){const A=C(N),i=F({showActive:!1,showFeatured:!1,showModal:!1}),_=M(()=>{let l=A.value||[];return i.value.showActive&&(l=l.filter(s=>s.active)),i.value.showFeatured&&(l=l.filter(s=>s.featured)),i.value.showModal&&(l=l.filter(s=>s.showModal)),l.sort((s,u)=>new Date(u.createdAt?.toDate())-new Date(s.createdAt?.toDate()))}),k=l=>l?new Date(l.toDate()).toLocaleDateString():"-",m=async l=>{try{await E(l.id,l.active)}catch(s){console.error("Error toggling status:",s),alert("Failed to update promotion status")}},w=async l=>{if(confirm("Are you sure you want to delete this promotion?"))try{await V(l)}catch(s){console.error("Error deleting promotion:",s),alert("Failed to delete promotion")}};return(l,s)=>{const u=P("router-link");return a(),o("div",$,[t("div",B,[r(u,{to:"/promotions/new",class:"add-promotion-btn"},{default:f(()=>[...s[3]||(s[3]=[S(" Add Promotion ",-1)])]),_:1})]),t("div",I,[t("div",q,[t("div",O,[t("div",U,[p(t("input",{id:"showActive","onUpdate:modelValue":s[0]||(s[0]=e=>i.value.showActive=e),type:"checkbox",class:"filter-checkbox"},null,512),[[y,i.value.showActive]]),s[4]||(s[4]=t("label",{for:"showActive",class:"filter-label"},"Show Active Only",-1))]),t("div",z,[p(t("input",{id:"showFeatured","onUpdate:modelValue":s[1]||(s[1]=e=>i.value.showFeatured=e),type:"checkbox",class:"filter-checkbox"},null,512),[[y,i.value.showFeatured]]),s[5]||(s[5]=t("label",{for:"showFeatured",class:"filter-label"},"Show Featured Only",-1))]),t("div",L,[p(t("input",{id:"showModal","onUpdate:modelValue":s[2]||(s[2]=e=>i.value.showModal=e),type:"checkbox",class:"filter-checkbox"},null,512),[[y,i.value.showModal]]),s[6]||(s[6]=t("label",{for:"showModal",class:"filter-label"},"Show Modal Only",-1))])])])]),t("div",T,[t("div",Y,[_.value.length===0?(a(),o("div",j,[...s[7]||(s[7]=[t("p",{class:"empty-text"},"No promotions found",-1)])])):(a(),o("div",H,[t("table",Q,[s[8]||(s[8]=t("thead",null,[t("tr",null,[t("th",{class:"table-header"},"Title"),t("th",{class:"table-header"},"Description"),t("th",{class:"table-header"},"Status"),t("th",{class:"table-header"},"Featured"),t("th",{class:"table-header"},"Modal"),t("th",{class:"table-header"},"Created"),t("th",{class:"table-header"},"Actions")])],-1)),t("tbody",null,[(a(!0),o(g,null,x(_.value,e=>(a(),o("tr",{key:e.id,class:"table-row"},[t("td",G,[t("div",J,c(e.title),1)]),t("td",K,[t("div",R,c(e.description),1)]),t("td",W,[t("span",{class:v(["status-badge",e.active?"status-active":"status-inactive"])},c(e.active?"Active":"Inactive"),3)]),t("td",X,[e.featured?(a(),o("span",Z,"Featured")):(a(),o("span",tt,"-"))]),t("td",st,[e.showModal?(a(),o("span",et,"Modal")):(a(),o("span",at,"-"))]),t("td",ot,[t("div",lt,c(k(e.createdAt)),1)]),t("td",it,[t("div",ct,[t("button",{onClick:b=>m(e),class:v(["action-btn",e.active?"action-btn-danger":"action-btn-success"]),title:e.active?"Deactivate":"Activate"},[e.active?(a(),h(d(n),{key:0,icon:"fa-solid fa-ban",class:"action-icon"})):(a(),h(d(n),{key:1,icon:"fa-solid fa-check",class:"action-icon"}))],10,dt),r(u,{to:`/promotions/edit/${e.id}`,class:"action-btn action-btn-secondary",title:"Edit"},{default:f(()=>[r(d(n),{icon:"fa-solid fa-pen-to-square",class:"action-icon"})]),_:2},1032,["to"]),t("button",{onClick:b=>w(e.id),class:"action-btn action-btn-danger",title:"Delete"},[r(d(n),{icon:"fa-solid fa-trash",class:"action-icon"})],8,nt)])])]))),128))])])]))])]),t("div",rt,[_.value.length===0?(a(),o("div",ut,[...s[9]||(s[9]=[t("p",{class:"empty-text"},"No promotions found",-1)])])):(a(),o("div",_t,[(a(!0),o(g,null,x(_.value,e=>(a(),o("div",{key:e.id,class:"promotion-card"},[t("div",vt,[t("h3",ht,c(e.title),1),t("div",bt,[t("span",{class:v(["status-badge",e.active?"status-active":"status-inactive"])},c(e.active?"Active":"Inactive"),3)])]),t("div",ft,[t("p",pt,c(e.description),1)]),t("div",yt,[t("div",kt,[s[10]||(s[10]=t("span",{class:"meta-label"},"Featured:",-1)),e.featured?(a(),o("span",mt,"Yes")):(a(),o("span",wt,"No"))]),t("div",gt,[s[11]||(s[11]=t("span",{class:"meta-label"},"Modal:",-1)),e.showModal?(a(),o("span",xt,"Yes")):(a(),o("span",At,"No"))]),t("div",Dt,[s[12]||(s[12]=t("span",{class:"meta-label"},"Created:",-1)),t("span",Ct,c(k(e.createdAt)),1)])]),t("div",Ft,[t("button",{onClick:b=>m(e),class:v(["card-btn",e.active?"card-btn-danger":"card-btn-success"]),title:e.active?"Deactivate":"Activate"},[e.active?(a(),h(d(n),{key:0,icon:"fa-solid fa-ban",class:"card-icon"})):(a(),h(d(n),{key:1,icon:"fa-solid fa-check",class:"card-icon"})),t("span",Pt,c(e.active?"Deactivate":"Activate"),1)],10,Mt),r(u,{to:`/promotions/edit/${e.id}`,class:"card-btn card-btn-secondary",title:"Edit"},{default:f(()=>[r(d(n),{icon:"fa-solid fa-pen-to-square",class:"card-icon"}),s[13]||(s[13]=t("span",{class:"btn-text"},"Edit",-1))]),_:2},1032,["to"]),t("button",{onClick:b=>w(e.id),class:"card-btn card-btn-danger",title:"Delete"},[r(d(n),{icon:"fa-solid fa-trash",class:"card-icon"}),s[14]||(s[14]=t("span",{class:"btn-text"},"Delete",-1))],8,St)])]))),128))]))])])}}},Bt=D(Nt,[["__scopeId","data-v-16292c00"]]);export{Bt as default};
