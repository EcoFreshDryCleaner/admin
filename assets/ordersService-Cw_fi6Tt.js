import{_ as l,c as p,a as s,b as u,d as f,F as _,t as o,o as g,N as y,E as d,G as a,H as h,B as n,I as m,z as v,J as k}from"./index-_H8X2coS.js";const S={class:"stats-card"},D={class:"stats-icon"},O={class:"stats-content"},C={class:"stats-label"},P={class:"stats-value"},w={__name:"StatsCard",props:{icon:{type:String,required:!0},label:{type:String,required:!0},value:{type:[String,Number],required:!0}},setup(t){return(r,e)=>(g(),p("div",S,[s("div",D,[u(f(_),{icon:t.icon,class:"stats-icon-svg"},null,8,["icon"])]),s("div",O,[s("p",C,o(t.label),1),s("p",P,o(t.value),1)])]))}},R=l(w,[["__scopeId","data-v-d2afe889"]]),b={pending:"Pending Confirmation",confirmed:"Order Confirmed",picked_up:"Picked Up",dropped_off:"Dropped Off",in_progress:"In Progress",cleaning:"Cleaning",ready:"Ready",ready_for_pickup:"Ready for Pickup",out_for_delivery:"Out for Delivery",delivered:"Delivered",completed:"Completed",cancelled:"Cancelled"},I=(t,r=null)=>{if(!t)return"Unknown";switch(t){case"picked_up":return r==="dropoff"?"Dropped Off":"Picked Up";case"dropped_off":return"Dropped Off";case"delivered":return r==="dropoff"?"Completed":"Delivered";default:return b[t]||t.charAt(0).toUpperCase()+t.slice(1)}},c=t=>["confirmed","picked_up","dropped_off","in_progress","cleaning","ready","ready_for_pickup","out_for_delivery"].includes(t),i=h(n,"orders"),B=d(i,a("date_placed","desc"));d(i,m("in_progress","==",!0),a("date_placed","desc"));const U=async(t,r)=>{try{const e=v(n,"orders",t);return await k(e,{status:r,in_progress:c(r),updatedAt:new Date}),!0}catch(e){throw console.error("Error updating order status:",e),e}},q=async()=>{try{const r=(await y(B)).docs.map(e=>({id:e.id,...e.data()}));return{total:r.length,pending:r.filter(e=>e.status==="pending").length,confirmed:r.filter(e=>e.status==="confirmed").length,picked_up:r.filter(e=>e.status==="picked_up").length,dropped_off:r.filter(e=>e.status==="dropped_off").length,in_progress:r.filter(e=>e.status==="in_progress").length,cleaning:r.filter(e=>e.status==="cleaning").length,ready:r.filter(e=>e.status==="ready").length,ready_for_pickup:r.filter(e=>e.status==="ready_for_pickup").length,out_for_delivery:r.filter(e=>e.status==="out_for_delivery").length,delivered:r.filter(e=>e.status==="delivered").length,completed:r.filter(e=>e.status==="completed").length,cancelled:r.filter(e=>e.status==="cancelled").length,inProgress:r.filter(e=>c(e.status)).length}}catch(t){return console.error("Error getting orders count:",t),{total:0,pending:0,confirmed:0,picked_up:0,dropped_off:0,in_progress:0,cleaning:0,ready:0,ready_for_pickup:0,out_for_delivery:0,delivered:0,completed:0,cancelled:0,inProgress:0}}};export{R as S,B as a,I as b,q as g,U as u};
