import{u as S,r as c,c as t,a as s,b as p,d as l,F as n,w as F,e as f,f as g,v as y,t as b,g as h,s as P,h as E,o as a,i as V}from"./index-Bofk4aXo.js";const B={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-12 px-4"},L={class:"max-w-md w-full space-y-8"},A={class:"text-center"},C={class:"login-icon-container"},D={class:"space-y-6"},M={class:"input-wrapper"},N={class:"input-icon"},q={class:"input-wrapper"},I={class:"input-icon"},R={key:0,class:"error-message"},U={class:"error-content"},j={class:"error-text"},T={key:1,class:"success-message"},z={class:"success-content"},G={class:"success-text"},H=["disabled"],J={key:1},K={key:2},O={class:"text-center"},Q=["disabled"],W={key:1},X={key:2},$={__name:"Login",setup(Y){const w=E();S();const d=c(""),m=c(""),i=c(!1),o=c(""),r=c(!1),u=c(""),x=async()=>{if(!i.value){i.value=!0,o.value="",u.value="";try{await V(d.value,m.value),w.push("/dashboard")}catch(v){o.value=v.message||"Failed to sign in"}finally{i.value=!1}}},k=async()=>{if(!r.value){if(!d.value){o.value="Please enter your email address first";return}r.value=!0,o.value="",u.value="";try{await P(d.value),u.value="Password reset email sent! Check your inbox for instructions."}catch(v){o.value=v.message||"Failed to send password reset email"}finally{r.value=!1}}};return(v,e)=>(a(),t("div",B,[s("div",L,[s("div",A,[s("div",C,[p(l(n),{icon:"fa-solid fa-cube",class:"login-icon"})]),e[2]||(e[2]=s("h2",{class:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"}," Admin Login ",-1)),e[3]||(e[3]=s("p",{class:"mt-3 text-lg text-gray-600"},"Sign in to manage promotions",-1))]),s("form",{class:"mt-8 space-y-6",onSubmit:F(x,["prevent"])},[s("div",D,[s("div",null,[e[4]||(e[4]=s("label",{for:"email",class:"form-label"},"Email address",-1)),s("div",M,[s("div",N,[p(l(n),{icon:"fa-solid fa-envelope",class:"icon"})]),g(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=_=>d.value=_),name:"email",type:"email",required:"",class:"form-input with-icon",placeholder:"Enter your email"},null,512),[[y,d.value]])])]),s("div",null,[e[5]||(e[5]=s("label",{for:"password",class:"form-label"},"Password",-1)),s("div",q,[s("div",I,[p(l(n),{icon:"fa-solid fa-lock",class:"icon"})]),g(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=_=>m.value=_),name:"password",type:"password",required:"",class:"form-input with-icon",placeholder:"Enter your password"},null,512),[[y,m.value]])])])]),o.value?(a(),t("div",R,[s("div",U,[p(l(n),{icon:"fa-solid fa-exclamation-triangle",class:"error-icon"}),s("div",j,[s("p",null,b(o.value),1)])])])):f("",!0),u.value?(a(),t("div",T,[s("div",z,[p(l(n),{icon:"fa-solid fa-check-circle",class:"success-icon"}),s("div",G,[s("p",null,b(u.value),1)])])])):f("",!0),s("div",null,[s("button",{type:"submit",disabled:i.value,class:"btn btn-primary w-full btn-lg"},[i.value?f("",!0):(a(),h(l(n),{key:0,icon:"fa-solid fa-sign-in-alt",class:"btn-icon"})),i.value?(a(),t("span",J,"Signing in...")):(a(),t("span",K,"Sign in to Dashboard"))],8,H)]),s("div",O,[s("button",{type:"button",onClick:k,disabled:r.value,class:"forgot-password-btn"},[r.value?f("",!0):(a(),h(l(n),{key:0,icon:"fa-solid fa-key",class:"forgot-password-icon"})),r.value?(a(),t("span",W,"Sending...")):(a(),t("span",X,"Forgot your password?"))],8,Q)])],32)])]))}};export{$ as default};
