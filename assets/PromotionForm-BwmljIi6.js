import{j as b,r as x,C as y,c as n,o as r,a as e,f as i,v as a,x as u,t as g,w as U}from"./index-peUOkrNM.js";const C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={class:"form-group"},V={class:"form-group"},k={class:"form-group"},M={class:"form-group"},D={class:"form-group"},A={class:"form-group"},S={class:"space-y-4"},E={class:"flex items-center space-x-2"},T={class:"flex items-center space-x-2"},B={class:"flex items-center space-x-2"},j={class:"form-group"},O={class:"flex justify-end space-x-4"},$=["disabled"],q={key:0},I={key:1},N={__name:"PromotionForm",props:{promotion:{type:Object,default:null},loading:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(d,{emit:p}){const m=d,v=p,f=b(()=>!!m.promotion),l=x({title:"",description:"",discountCode:"",discountAmount:"",validFrom:"",validUntil:"",active:!0,featured:!1,showModal:!1,terms:""});y(()=>m.promotion,s=>{s&&(l.value={title:s.title||"",description:s.description||"",discountCode:s.discountCode||"",discountAmount:s.discountAmount||"",validFrom:s.validFrom?s.validFrom.toDate().toISOString().split("T")[0]:"",validUntil:s.validUntil?s.validUntil.toDate().toISOString().split("T")[0]:"",active:s.active!==void 0?s.active:!0,featured:s.featured||!1,showModal:s.showModal||!1,terms:s.terms||""})},{immediate:!0});const c=()=>{const s={...l.value,validFrom:l.value.validFrom?new Date(l.value.validFrom):null,validUntil:l.value.validUntil?new Date(l.value.validUntil):null};v("submit",s)};return(s,t)=>(r(),n("form",{onSubmit:U(c,["prevent"]),class:"space-y-6"},[e("div",C,[e("div",F,[t[11]||(t[11]=e("label",{for:"title",class:"form-label"},"Title *",-1)),i(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=o=>l.value.title=o),type:"text",required:"",class:"form-input",placeholder:"Enter promotion title"},null,512),[[a,l.value.title]])]),e("div",V,[t[12]||(t[12]=e("label",{for:"description",class:"form-label"},"Description *",-1)),i(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=o=>l.value.description=o),required:"",class:"form-input form-textarea",placeholder:"Enter promotion description"},null,512),[[a,l.value.description]])]),e("div",k,[t[13]||(t[13]=e("label",{for:"discountCode",class:"form-label"},"Discount Code",-1)),i(e("input",{id:"discountCode","onUpdate:modelValue":t[2]||(t[2]=o=>l.value.discountCode=o),type:"text",class:"form-input",placeholder:"Enter discount code (optional)"},null,512),[[a,l.value.discountCode]])]),e("div",M,[t[14]||(t[14]=e("label",{for:"discountAmount",class:"form-label"},"Discount Amount",-1)),i(e("input",{id:"discountAmount","onUpdate:modelValue":t[3]||(t[3]=o=>l.value.discountAmount=o),type:"text",class:"form-input",placeholder:"e.g., 20% or $10"},null,512),[[a,l.value.discountAmount]])]),e("div",D,[t[15]||(t[15]=e("label",{for:"validFrom",class:"form-label"},"Valid From",-1)),i(e("input",{id:"validFrom","onUpdate:modelValue":t[4]||(t[4]=o=>l.value.validFrom=o),type:"date",class:"form-input"},null,512),[[a,l.value.validFrom]])]),e("div",A,[t[16]||(t[16]=e("label",{for:"validUntil",class:"form-label"},"Valid Until",-1)),i(e("input",{id:"validUntil","onUpdate:modelValue":t[5]||(t[5]=o=>l.value.validUntil=o),type:"date",class:"form-input"},null,512),[[a,l.value.validUntil]])])]),e("div",S,[e("div",E,[i(e("input",{id:"active","onUpdate:modelValue":t[6]||(t[6]=o=>l.value.active=o),type:"checkbox",class:"form-checkbox"},null,512),[[u,l.value.active]]),t[17]||(t[17]=e("label",{for:"active",class:"text-sm font-medium text-gray-700"}," Active Promotion ",-1))]),e("div",T,[i(e("input",{id:"featured","onUpdate:modelValue":t[7]||(t[7]=o=>l.value.featured=o),type:"checkbox",class:"form-checkbox"},null,512),[[u,l.value.featured]]),t[18]||(t[18]=e("label",{for:"featured",class:"text-sm font-medium text-gray-700"}," Featured Promotion ",-1))]),e("div",B,[i(e("input",{id:"showModal","onUpdate:modelValue":t[8]||(t[8]=o=>l.value.showModal=o),type:"checkbox",class:"form-checkbox"},null,512),[[u,l.value.showModal]]),t[19]||(t[19]=e("label",{for:"showModal",class:"text-sm font-medium text-gray-700"}," Show as Modal (only one can be active) ",-1))])]),e("div",j,[t[20]||(t[20]=e("label",{for:"terms",class:"form-label"},"Terms and Conditions",-1)),i(e("textarea",{id:"terms","onUpdate:modelValue":t[9]||(t[9]=o=>l.value.terms=o),class:"form-input form-textarea",placeholder:"Enter terms and conditions (optional)"},null,512),[[a,l.value.terms]])]),e("div",O,[e("button",{type:"button",onClick:t[10]||(t[10]=o=>s.$emit("cancel")),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",disabled:d.loading,class:"btn btn-primary"},[d.loading?(r(),n("span",q,"Saving...")):(r(),n("span",I,g(f.value?"Update":"Create")+" Promotion",1))],8,$)])],32))}};export{N as _};
