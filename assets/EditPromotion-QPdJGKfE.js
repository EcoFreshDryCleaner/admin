import{r as y,j as v,y as x,z as g,A as b,B as k,g as h,m as c,h as B,l as P,o as s,a as t,c as r,d as n,b as m,q as C}from"./index-peUOkrNM.js";import{_ as E}from"./DashboardLayout-DxZomJu8.js";import{_ as N}from"./PromotionForm-BwmljIi6.js";import{u as R}from"./promotionsService-SABHhcAy.js";import"./index.es-YoZnc2XA.js";const V={class:"space-y-6"},w={key:0,class:"card"},S={key:1,class:"card"},$={class:"card-body text-center py-8"},j={key:2,class:"card"},q={class:"card-body"},U={__name:"EditPromotion",setup(z){const i=g(),d=B(),a=y(!1),p=v(()=>x(b,"promotions",i.params.id)),e=k(p),u=async l=>{a.value=!0;try{await R(i.params.id,l),d.push("/promotions")}catch(o){console.error("Error updating promotion:",o),alert("Failed to update promotion: "+o.message)}finally{a.value=!1}},_=()=>{d.push("/promotions")};return(l,o)=>{const f=P("router-link");return s(),h(E,null,{default:c(()=>[t("div",V,[o[3]||(o[3]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Promotion"),t("p",{class:"mt-1 text-sm text-gray-600"}," Update promotion details ")],-1)),n(e)?n(e)?(s(),r("div",j,[t("div",q,[m(N,{promotion:n(e),loading:a.value,onSubmit:u,onCancel:_},null,8,["promotion","loading"])])])):(s(),r("div",S,[t("div",$,[o[2]||(o[2]=t("p",{class:"text-gray-500"},"Promotion not found",-1)),m(f,{to:"/promotions",class:"btn btn-primary mt-4"},{default:c(()=>[...o[1]||(o[1]=[C(" Back to Promotions ",-1)])]),_:1})])])):(s(),r("div",w,[...o[0]||(o[0]=[t("div",{class:"card-body text-center py-8"},[t("p",{class:"text-gray-500"},"Loading promotion...")],-1)])]))])]),_:1})}}};export{U as default};
