import{_ as y,r as f,k as v,A as b,B as k,C as x,D as g,c as s,d as n,a as t,b as m,p as h,q as P,h as B,o as a,y as C}from"./index-Bofk4aXo.js";import{P as E}from"./PromotionForm-C-awL3VE.js";import{u as N}from"./promotionsService-D2pL0L8L.js";const R={class:"space-y-6"},V={key:0,class:"card"},w={key:1,class:"card"},D={class:"card-body text-center py-8"},F={key:2,class:"card"},S={class:"card-body"},q={__name:"EditPromotion",setup(A){const i=k(),d=B(),e=f(!1),p=v(()=>b(x,"promotions",i.params.id)),r=g(p),l=async c=>{e.value=!0;try{await N(i.params.id,c),d.push("/promotions")}catch(o){console.error("Error updating promotion:",o),alert("Failed to update promotion: "+o.message)}finally{e.value=!1}},u=()=>{d.push("/promotions")};return(c,o)=>{const _=P("router-link");return a(),s("div",R,[n(r)?n(r)?(a(),s("div",F,[t("div",S,[m(E,{promotion:n(r),loading:e.value,onSubmit:l,onCancel:u},null,8,["promotion","loading"])])])):(a(),s("div",w,[t("div",D,[o[2]||(o[2]=t("p",{class:"text-gray-500"},"Promotion not found",-1)),m(_,{to:"/promotions",class:"btn btn-primary mt-4"},{default:h(()=>[...o[1]||(o[1]=[C(" Back to Promotions ",-1)])]),_:1})])])):(a(),s("div",V,[...o[0]||(o[0]=[t("div",{class:"card-body text-center py-8"},[t("p",{class:"text-gray-500"},"Loading promotion...")],-1)])]))])}}},j=y(q,[["__scopeId","data-v-269af46d"]]);export{j as default};
