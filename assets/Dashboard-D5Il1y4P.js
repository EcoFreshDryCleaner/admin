import{_ as h,i as k,r as P,j as v,k as x,c as a,a as s,b as l,l as C,m as D,n as _,p as O,t as i,o as r,e as f,q as A,x as p,d as N,F as S}from"./index-_H8X2coS.js";import{S as d,g as V}from"./ordersService-Cw_fi6Tt.js";import{a as I}from"./promotionsService-Bfm_L0Xa.js";const M={class:"dashboard-container"},B={class:"stats-grid"},F={class:"recent-promotions-card"},T={class:"card-body"},E={key:0,class:"empty-state"},R={key:1,class:"promotions-list"},q={class:"promotion-content"},z={class:"promotion-title"},j={class:"promotion-description"},L={class:"promotion-badges"},Q={key:0,class:"featured-badge"},$={key:1,class:"modal-badge"},G={class:"promotion-actions"},H={class:"card-footer"},J={class:"recent-orders-card"},K={class:"card-body"},U={key:0,class:"empty-state"},W={key:1,class:"orders-summary"},X={class:"orders-overview"},Y={class:"overview-item"},Z={class:"overview-value"},ss={class:"overview-item"},es={class:"overview-value"},os={class:"overview-item"},ts={class:"overview-value"},as={class:"overview-item"},ls={class:"overview-value"},is={class:"overview-item"},rs={class:"overview-value"},ns={class:"overview-item"},ds={class:"overview-value"},cs={class:"card-footer"},vs={__name:"Dashboard",setup(us){const c=k(I),o=P({total:0,pending:0,confirmed:0,picked_up:0,dropped_off:0,in_progress:0,cleaning:0,ready:0,ready_for_pickup:0,out_for_delivery:0,delivered:0,completed:0,cancelled:0,inProgress:0}),w=v(()=>c.value?.length||0),g=v(()=>c.value?.filter(t=>t.active)?.length||0),y=v(()=>c.value?.filter(t=>t.showModal)?.length||0),m=v(()=>c.value?.sort((t,e)=>new Date(e.createdAt?.toDate())-new Date(t.createdAt?.toDate()))||[]),b=async()=>{try{const t=await V();o.value=t}catch(t){console.error("Error loading orders stats:",t)}};return x(async()=>{await b()}),(t,e)=>{const u=O("router-link");return r(),a("div",M,[s("div",B,[l(d,{icon:"fa-solid fa-chart-line",label:"Total Promotions",value:w.value},null,8,["value"]),l(d,{icon:"fa-solid fa-check-circle",label:"Active Promotions",value:g.value},null,8,["value"]),l(d,{icon:"fa-solid fa-window-maximize",label:"Modal Promotions",value:y.value},null,8,["value"]),l(d,{icon:"fa-solid fa-shopping-bag",label:"Total Orders",value:o.value.total},null,8,["value"]),l(d,{icon:"fa-solid fa-spinner",label:"Orders In Progress",value:o.value.inProgress},null,8,["value"])]),s("div",F,[e[3]||(e[3]=s("div",{class:"card-header"},[s("h3",{class:"card-title"},"Recent Promotions")],-1)),s("div",T,[m.value.length===0?(r(),a("div",E,[...e[0]||(e[0]=[s("p",{class:"empty-text"},"No promotions found",-1)])])):(r(),a("div",R,[(r(!0),a(C,null,D(m.value.slice(0,5),n=>(r(),a("div",{key:n.id,class:"promotion-item"},[s("div",q,[s("h4",z,i(n.title),1),s("p",j,i(n.description),1),s("div",L,[s("span",{class:A(["status-badge",n.active?"status-active":"status-inactive"])},i(n.active?"Active":"Inactive"),3),n.featured?(r(),a("span",Q,"Featured")):f("",!0),n.showModal?(r(),a("span",$,"Modal")):f("",!0)])]),s("div",G,[l(u,{to:`/promotions/edit/${n.id}`,class:"edit-btn"},{default:_(()=>[l(N(S),{icon:"fa-solid fa-pen-to-square",class:"edit-icon"}),e[1]||(e[1]=p(" Edit ",-1))]),_:2},1032,["to"])])]))),128))]))]),s("div",H,[l(u,{to:"/promotions",class:"view-all-btn"},{default:_(()=>[...e[2]||(e[2]=[p("View All Promotions",-1)])]),_:1})])]),s("div",J,[e[12]||(e[12]=s("div",{class:"card-header"},[s("h3",{class:"card-title"},"Recent Orders")],-1)),s("div",K,[o.value.total?(r(),a("div",W,[s("div",X,[s("div",Y,[e[5]||(e[5]=s("span",{class:"overview-label"},"Total Orders:",-1)),s("span",Z,i(o.value.total),1)]),s("div",ss,[e[6]||(e[6]=s("span",{class:"overview-label"},"Pending:",-1)),s("span",es,i(o.value.pending),1)]),s("div",os,[e[7]||(e[7]=s("span",{class:"overview-label"},"In Progress:",-1)),s("span",ts,i(o.value.inProgress),1)]),s("div",as,[e[8]||(e[8]=s("span",{class:"overview-label"},"Cleaning:",-1)),s("span",ls,i(o.value.cleaning),1)]),s("div",is,[e[9]||(e[9]=s("span",{class:"overview-label"},"Ready:",-1)),s("span",rs,i(o.value.ready+o.value.ready_for_pickup),1)]),s("div",ns,[e[10]||(e[10]=s("span",{class:"overview-label"},"Out for Delivery:",-1)),s("span",ds,i(o.value.out_for_delivery),1)])])])):(r(),a("div",U,[...e[4]||(e[4]=[s("p",{class:"empty-text"},"No orders found",-1)])]))]),s("div",cs,[l(u,{to:"/orders",class:"view-all-btn"},{default:_(()=>[...e[11]||(e[11]=[p("View All Orders",-1)])]),_:1})])])])}}},fs=h(vs,[["__scopeId","data-v-0b7dddd6"]]);export{fs as default};
