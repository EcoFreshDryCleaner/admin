import{M as c,D as o,E as d,G as p,A as s,H as f,y as u,I as _}from"./index-peUOkrNM.js";const g={pending:"Pending Confirmation",confirmed:"Order Confirmed",picked_up:"Picked Up",dropped_off:"Dropped Off",in_progress:"In Progress",cleaning:"Cleaning",ready:"Ready",ready_for_pickup:"Ready for Pickup",out_for_delivery:"Out for Delivery",delivered:"Delivered",completed:"Completed",cancelled:"Cancelled"},k=(t,r=null)=>{if(!t)return"Unknown";switch(t){case"picked_up":return r==="dropoff"?"Dropped Off":"Picked Up";case"dropped_off":return"Dropped Off";case"delivered":return r==="dropoff"?"Completed":"Delivered";default:return g[t]||t.charAt(0).toUpperCase()+t.slice(1)}},n=t=>["confirmed","picked_up","dropped_off","in_progress","cleaning","ready","ready_for_pickup","out_for_delivery"].includes(t),a=p(s,"orders"),y=o(a,d("date_placed","desc"));o(a,f("in_progress","==",!0),d("date_placed","desc"));const m=async(t,r)=>{try{const e=u(s,"orders",t);return await _(e,{status:r,in_progress:n(r),updatedAt:new Date}),!0}catch(e){throw console.error("Error updating order status:",e),e}},v=async()=>{try{const r=(await c(y)).docs.map(e=>({id:e.id,...e.data()}));return{total:r.length,pending:r.filter(e=>e.status==="pending").length,confirmed:r.filter(e=>e.status==="confirmed").length,picked_up:r.filter(e=>e.status==="picked_up").length,dropped_off:r.filter(e=>e.status==="dropped_off").length,in_progress:r.filter(e=>e.status==="in_progress").length,cleaning:r.filter(e=>e.status==="cleaning").length,ready:r.filter(e=>e.status==="ready").length,ready_for_pickup:r.filter(e=>e.status==="ready_for_pickup").length,out_for_delivery:r.filter(e=>e.status==="out_for_delivery").length,delivered:r.filter(e=>e.status==="delivered").length,completed:r.filter(e=>e.status==="completed").length,cancelled:r.filter(e=>e.status==="cancelled").length,inProgress:r.filter(e=>n(e.status)).length}}catch(t){return console.error("Error getting orders count:",t),{total:0,pending:0,confirmed:0,picked_up:0,dropped_off:0,in_progress:0,cleaning:0,ready:0,ready_for_pickup:0,out_for_delivery:0,delivered:0,completed:0,cancelled:0,inProgress:0}}},O=(t,r)=>{const e=t.__vccOpts||t;for(const[i,l]of r)e[i]=l;return e};export{O as _,y as a,k as b,v as g,m as u};
