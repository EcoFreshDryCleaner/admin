import{i as k,r as P,j as _,k as D,g as O,l as x,o as i,m as p,a as s,b as l,d as r,t as o,c as d,F as A,n as C,e as g,p as N,q as m}from"./index-peUOkrNM.js";import{F as c}from"./index.es-YoZnc2XA.js";import{_ as V}from"./DashboardLayout-DxZomJu8.js";import{a as B}from"./promotionsService-SABHhcAy.js";import{_ as F,g as I}from"./_plugin-vue_export-helper-CaeaE_Fu.js";const M={class:"dashboard-container"},S={class:"stats-grid"},T={class:"stats-card"},E={class:"stats-icon"},R={class:"stats-content"},q={class:"stats-value"},z={class:"stats-card"},$={class:"stats-icon"},j={class:"stats-content"},L={class:"stats-value"},Q={class:"stats-card"},G={class:"stats-icon"},H={class:"stats-content"},J={class:"stats-value"},K={class:"stats-card"},U={class:"stats-icon"},W={class:"stats-content"},X={class:"stats-value"},Y={class:"stats-card"},Z={class:"stats-icon"},ss={class:"stats-content"},ts={class:"stats-value"},os={class:"recent-promotions-card"},es={class:"card-body"},as={key:0,class:"empty-state"},is={key:1,class:"promotions-list"},ls={class:"promotion-content"},ns={class:"promotion-title"},ds={class:"promotion-description"},rs={class:"promotion-badges"},cs={key:0,class:"featured-badge"},vs={key:1,class:"modal-badge"},_s={class:"promotion-actions"},ps={class:"card-footer"},us={class:"recent-orders-card"},ms={class:"card-body"},fs={key:0,class:"empty-state"},gs={key:1,class:"orders-summary"},hs={class:"orders-overview"},ws={class:"overview-item"},ys={class:"overview-value"},bs={class:"overview-item"},ks={class:"overview-value"},Ps={class:"overview-item"},Ds={class:"overview-value"},Os={class:"overview-item"},xs={class:"overview-value"},As={class:"overview-item"},Cs={class:"overview-value"},Ns={class:"overview-item"},Vs={class:"overview-value"},Bs={class:"card-footer"},Fs={__name:"Dashboard",setup(Is){const v=k(B),e=P({total:0,pending:0,confirmed:0,picked_up:0,dropped_off:0,in_progress:0,cleaning:0,ready:0,ready_for_pickup:0,out_for_delivery:0,delivered:0,completed:0,cancelled:0,inProgress:0}),h=_(()=>v.value?.length||0),w=_(()=>v.value?.filter(a=>a.active)?.length||0),y=_(()=>v.value?.filter(a=>a.showModal)?.length||0),f=_(()=>v.value?.sort((a,t)=>new Date(t.createdAt?.toDate())-new Date(a.createdAt?.toDate()))||[]),b=async()=>{try{const a=await I();e.value=a}catch(a){console.error("Error loading orders stats:",a)}};return D(async()=>{await b()}),(a,t)=>{const u=x("router-link");return i(),O(V,null,{default:p(()=>[s("div",M,[t[18]||(t[18]=s("div",{class:"page-header"},[s("h1",{class:"page-title"},"Dashboard"),s("p",{class:"page-subtitle"},"Overview of your promotions and system status")],-1)),s("div",S,[s("div",T,[s("div",E,[l(r(c),{icon:"fa-solid fa-chart-line",class:"stats-icon-svg"})]),s("div",R,[t[0]||(t[0]=s("p",{class:"stats-label"},"Total Promotions",-1)),s("p",q,o(h.value),1)])]),s("div",z,[s("div",$,[l(r(c),{icon:"fa-solid fa-check-circle",class:"stats-icon-svg"})]),s("div",j,[t[1]||(t[1]=s("p",{class:"stats-label"},"Active Promotions",-1)),s("p",L,o(w.value),1)])]),s("div",Q,[s("div",G,[l(r(c),{icon:"fa-solid fa-window-maximize",class:"stats-icon-svg"})]),s("div",H,[t[2]||(t[2]=s("p",{class:"stats-label"},"Modal Promotions",-1)),s("p",J,o(y.value),1)])]),s("div",K,[s("div",U,[l(r(c),{icon:"fa-solid fa-shopping-bag",class:"stats-icon-svg"})]),s("div",W,[t[3]||(t[3]=s("p",{class:"stats-label"},"Total Orders",-1)),s("p",X,o(e.value.total),1)])]),s("div",Y,[s("div",Z,[l(r(c),{icon:"fa-solid fa-spinner",class:"stats-icon-svg"})]),s("div",ss,[t[4]||(t[4]=s("p",{class:"stats-label"},"Orders In Progress",-1)),s("p",ts,o(e.value.inProgress),1)])])]),s("div",os,[t[8]||(t[8]=s("div",{class:"card-header"},[s("h3",{class:"card-title"},"Recent Promotions")],-1)),s("div",es,[f.value.length===0?(i(),d("div",as,[...t[5]||(t[5]=[s("p",{class:"empty-text"},"No promotions found",-1)])])):(i(),d("div",is,[(i(!0),d(A,null,C(f.value.slice(0,5),n=>(i(),d("div",{key:n.id,class:"promotion-item"},[s("div",ls,[s("h4",ns,o(n.title),1),s("p",ds,o(n.description),1),s("div",rs,[s("span",{class:N(["status-badge",n.active?"status-active":"status-inactive"])},o(n.active?"Active":"Inactive"),3),n.featured?(i(),d("span",cs,"Featured")):g("",!0),n.showModal?(i(),d("span",vs,"Modal")):g("",!0)])]),s("div",_s,[l(u,{to:`/promotions/edit/${n.id}`,class:"edit-btn"},{default:p(()=>[l(r(c),{icon:"fa-solid fa-pen-to-square",class:"edit-icon"}),t[6]||(t[6]=m(" Edit ",-1))]),_:2},1032,["to"])])]))),128))]))]),s("div",ps,[l(u,{to:"/promotions",class:"view-all-btn"},{default:p(()=>[...t[7]||(t[7]=[m("View All Promotions",-1)])]),_:1})])]),s("div",us,[t[17]||(t[17]=s("div",{class:"card-header"},[s("h3",{class:"card-title"},"Recent Orders")],-1)),s("div",ms,[e.value.total?(i(),d("div",gs,[s("div",hs,[s("div",ws,[t[10]||(t[10]=s("span",{class:"overview-label"},"Total Orders:",-1)),s("span",ys,o(e.value.total),1)]),s("div",bs,[t[11]||(t[11]=s("span",{class:"overview-label"},"Pending:",-1)),s("span",ks,o(e.value.pending),1)]),s("div",Ps,[t[12]||(t[12]=s("span",{class:"overview-label"},"In Progress:",-1)),s("span",Ds,o(e.value.inProgress),1)]),s("div",Os,[t[13]||(t[13]=s("span",{class:"overview-label"},"Cleaning:",-1)),s("span",xs,o(e.value.cleaning),1)]),s("div",As,[t[14]||(t[14]=s("span",{class:"overview-label"},"Ready:",-1)),s("span",Cs,o(e.value.ready+e.value.ready_for_pickup),1)]),s("div",Ns,[t[15]||(t[15]=s("span",{class:"overview-label"},"Out for Delivery:",-1)),s("span",Vs,o(e.value.out_for_delivery),1)])])])):(i(),d("div",fs,[...t[9]||(t[9]=[s("p",{class:"empty-text"},"No orders found",-1)])]))]),s("div",Bs,[l(u,{to:"/orders",class:"view-all-btn"},{default:p(()=>[...t[16]||(t[16]=[m("View All Orders",-1)])]),_:1})])])])]),_:1})}}},qs=F(Fs,[["__scopeId","data-v-4d241edf"]]);export{qs as default};
