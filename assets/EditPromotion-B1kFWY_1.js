import{r as f,j as x,x as v,y as g,z as b,A as k,g as h,l as c,h as B,k as P,o as s,a as t,c as r,d as n,b as m,p as C}from"./index-DQxOvujX.js";import{_ as E,u as N}from"./promotionsService-Biwp99oC.js";import{_ as R}from"./PromotionForm-C8svdo8G.js";import"./index.es-DyG2QcrM.js";const V={class:"space-y-6"},w={key:0,class:"card"},S={key:1,class:"card"},$={class:"card-body text-center py-8"},j={key:2,class:"card"},z={class:"card-body"},U={__name:"EditPromotion",setup(A){const i=g(),d=B(),a=f(!1),p=x(()=>v(b,"promotions",i.params.id)),e=k(p),u=async l=>{a.value=!0;try{await N(i.params.id,l),d.push("/promotions")}catch(o){console.error("Error updating promotion:",o),alert("Failed to update promotion: "+o.message)}finally{a.value=!1}},_=()=>{d.push("/promotions")};return(l,o)=>{const y=P("router-link");return s(),h(E,null,{default:c(()=>[t("div",V,[o[3]||(o[3]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Promotion"),t("p",{class:"mt-1 text-sm text-gray-600"}," Update promotion details ")],-1)),n(e)?n(e)?(s(),r("div",j,[t("div",z,[m(R,{promotion:n(e),loading:a.value,onSubmit:u,onCancel:_},null,8,["promotion","loading"])])])):(s(),r("div",S,[t("div",$,[o[2]||(o[2]=t("p",{class:"text-gray-500"},"Promotion not found",-1)),m(y,{to:"/promotions",class:"btn btn-primary mt-4"},{default:c(()=>[...o[1]||(o[1]=[C(" Back to Promotions ",-1)])]),_:1})])])):(s(),r("div",w,[...o[0]||(o[0]=[t("div",{class:"card-body text-center py-8"},[t("p",{class:"text-gray-500"},"Loading promotion...")],-1)])]))])]),_:1})}}};export{U as default};
